
class: Action
order: SendRecvEvent
spec:
  send:
    eventRef: CEventVideoInitConnectionRequest
  recv:
    eventRefs:
    - CEventVideoInitConnectionResponse

---
class: Event
order: Request
metadata:
  include_headers:
  - video_platform_impl/user_proxy/event/room_proxy_events.h
spec:
  eventName: CEventVideoInitConnectionRequest
  params:
  - field: roomID
    constant: "191"
    type: Int
  - field: uid.account
    expression: "robot.account()"
    type: LongLong
  - field: uid.zoneid
    fromPlayerData: "ZONE_ID"
    type: Int
  - field: uid.channel
    constant: "VCT_X5"
    type: Symbol
  - field: logic_version
    constant: "VIDEO_LOGIC_VERSION_NUM_CURRENT"
    type: Symbol

---
class: Event
order: Response
metadata:
  include_headers:
  - video_platform_impl/user_proxy/event/room_proxy_events.h
spec:
  eventName: CEventVideoInitConnectionResponse
  errorCodeField: res
  errorCategory: UserProxyResult
  results:
  - field: video_zone_id
    key: ZONE_ID

---
class: Event
order: Request
metadata:
  include_headers:
  - video_platform_impl/common/event/video_room_client_server_event.h
spec:
  eventName: CEventVideoRoomEnterRoom
  params:
  - field: m_room_id
    fromPlayerData: "ROOM_ID"
    type: Int
  - field: m_nick
    expression: "robot.account()"
  - field: m_source
    constant: "ERS_Normal"
    type: Symbol

---
class: Event
order: Response
metadata:
spec:
  eventName: CEventVideoRoomEnterRoomRes
  errorCodeField: m_result
  errorCategory: VideoRoomErrorCode
  results:
  - field: m_info.live_detail.anchor_pstid.id
    key: ANCHOR_QQ
  - field: vip_level
    key: VIP_LEVEL
  - field: vip_expire
    key: VIP_EXPIRE